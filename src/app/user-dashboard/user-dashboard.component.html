<!-- src/app/user-dashboard/user-dashboard.component.html -->
<h2>My Orders</h2>

<div *ngIf="loading">Loading orders...</div>
<div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

<table *ngIf="!loading && !errorMessage">
  <thead>
    <tr>
      <th>Order ID</th>
      <th>Pickup Location</th>
      <th>Dropoff Location</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let order of orders">
      <td>{{ order.id }}</td>
      <td>{{ order.pickup_location }}</td>
      <td>{{ order.dropoff_location }}</td>
      <td>{{ order.status }}</td>
      <td>
        <button (click)="viewOrderDetails(order.id)">View Details</button>
        <button
          (click)="cancelOrder(order.id)"
          [disabled]="order.status !== 'pending'"
        >
          Cancel
        </button>
      </td>
    </tr>
  </tbody>
</table>

<div *ngIf="orders.length === 0 && !loading && !errorMessage">
  <p>No orders found. Create a new one!</p>
</div>

<button (click)="createNewOrder()">Create New Order</button>
